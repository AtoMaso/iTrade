<div class="container col-md-12">

  <div class="row">

    <!-- Categories -->
    <div class="col-md-4 col-md-offset-1 panel panel-heading footerdiv">

            <div class="messages collapsed col-md-6" data-toggle="collapse" data-target="#collapseMessages">
              <span class="glyphicon glyphicon-minus"></span><span class="textlightcoral smalltext text-uppercase"> Messages</span>
            </div>         

          <!-- drop down -->
            <div class="smalltextbold col-md-6" style="text-align:right;z-index:1100;">
              Message Code:
              <select id="message" name="message" class="smalltextbold" style="background-color:moccasin;" (change)="onViewMessageChange($event)">
                <option></option>
                <option *ngFor="let message of messages" [ngValue]="message">
                  {{ message.messageCode }}
                </option>
              </select>
            </div>


            <div class="colapse in col-md-12" id="collapseMessages" style="margin-top:20px;">

                    <div *ngIf="!isMessageAddOn && !isMessageEditOn" class="col-md-12">

                              <div class="col-md-12">
                                <div class="col-md-4"><a (click)="onMessageAddClick()" class="textoker smalltext text-uppercase"><i class="glyphicon glyphicon-plus-sign"></i> Add </a></div>
                                <div class="col-md-4"><a (click)="onMessageEditClick()" class="textoker smalltext text-uppercase"><i class="glyphicon glyphicon-edit"></i> Edit </a></div>
                                <div class="col-md-4"><a data-target="#removeMessage" data-toggle="modal" (click)="onMessageDeleteClick()" class="textoker smalltext text-uppercase"><i class="glyphicon glyphicon-erase"></i> Delete </a></div>
                              </div>


                              <div *ngIf="messages !== null" class="col-md-12" style="margin-top:20px;">

                                <div class="row">
                                  <div class="row mediumtext panel panel-heading col-md-12" style="height:50px;">
                                    Message Id:<span class="text-info"> {{ messageInView.messageId}}</span>
                                  </div>

                                  <div class="row mediumtext panel panel-heading col-md-12" style="height:50px;">
                                    Message Code:<span class="text-info"> {{ messageInView.messageCode}}</span>
                                  </div>

                                  <div class="row mediumtext panel panel-heading col-md-12" style="height:70px;">
                                    Message Text:<span class="text-info"> {{ messageInView.messageText}}</span>
                                  </div>

                                  <div class="row mediumtext panel panel-heading col-md-12" style="height:50px;">
                                    Type Id:<span class="text-info"> {{ messageInView.messageTypeId }}</span>
                                  </div>

                                  <!--<div class="row mediumtext panel panel-heading col-md-12" style="height:50px;">
                                    Type:<span class="text-info"> {{ messageInView.messageType }}</span>
                                  </div>-->
                                </div>
                              </div>

                     </div>


                    <div *ngIf="isMessageAddOn || isMessageEditOn" class="row col-md-12">


                      <form novalidate [formGroup]="messagesForm" (submit)="onSubmitMessageAddUpdate()">

                          <div class="col-md-10 col-md-offset-1">
                              <div class="form-group smalltextbold col-md-12" style="height:70px;">
                                Message Type
                                <select formControlName="messagetype" id="messagetype" name="messagetype" class="form-control smalltextbold" style="background-color:moccasin;" (ngModelChange)="onMessageTypeChange($event)">
                                  <option></option>
                                  <option *ngFor="let type of types" [ngValue]="type">
                                    {{ type.messageType }}
                                  </option>
                                </select>
                                <control-messages [control]="messagesForm.controls.messagetype"></control-messages>
                              </div>
                          </div>

                          <div class="col-md-10 col-md-offset-1">
                            <div class="form-group smalltextbold col-md-12" style="height:70px;">
                              Message Code:                                   
                              <input type="text" formControlName="messagecode" id="messagecode" name="messagecode" required class="form-control smalltextbold" style="background-color:moccasin" />                                                         
                              <control-messages [control]="messagesForm.controls.messagecode"></control-messages>
                              </div>
                          </div>


                          <div class="col-md-10 col-md-offset-1">
                            <div class="form-group smalltextbold col-md-12" style="height:70px;">
                              Message Text:                                                        
                              <input type="text" formControlName="messagetext" id="messagetext" name="messagetext" required class="form-control smalltextbold" style="background-color:moccasin" />                                                        
                              <control-messages [control]="messagesForm.controls.messagetext"></control-messages>
                              </div>
                          </div>



                          <div class="col-md-8 col-md-offset-2 panel panel-heading" style="height:70px;margin-top:10px;">
                            <div class="col-md-6">
                              <button id="messagecancel" class="btn btn-warning text-uppercase smalltext" style="width:auto; height:30px;" (click)="onMessageAddEditCancel()">
                                <span class="glyphicon glyphicon-trash" aria-hidden="true"></span> Cancel
                              </button>
                            </div>

                            <div class="col-md-6" style="text-align:left;">
                              <button id="messagesave" class="btn btn-success text-uppercase smalltext" type="submit" [disabled]="!messagesForm.valid" style="width:auto; height:30px;">
                                <span class="glyphicon glyphicon-floppy-save" aria-hidden="true"></span>
                                Save
                              </button>
                            </div>
                          </div>


                      </form>

                 </div>

            </div>

    </div>


    <!--  Message Types-->
    <div class="col-md-5 col-md-offset-1 panel panel-heading footerdiv">

              <div class="subcategories collapsed col-md-6" data-toggle="collapse" data-target="#collapseTypes">
                <span class="glyphicon glyphicon-minus"></span><span class="textlightcoral smalltext text-uppercase"> Message Types</span>
              </div>

              <!-- drop down -->
              <div class="smalltextbold col-md-6" style="text-align:right;z-index:1100;">
                Message Type:
                <select id="type" name="type" class="smalltextbold" style="background-color:moccasin;" (change)="onViewTypeChange($event)">
                  <option></option>
                  <option *ngFor="let type of types" [ngValue]="type">
                    {{ type.messageType }}
                  </option>
                </select>
              </div>


              <div class="colapse in col-md-12" id="collapseTypes" style="margin-top:20px;">

                      <div *ngIf="!isTypeAddOn && !isTypeEditOn" class="col-md-12">

                        <div class="col-md-12">
                          <div class="col-md-4"><a (click)="onTypeAddClick()" class="textoker smalltext text-uppercase"><i class="glyphicon glyphicon-plus-sign"></i> Add </a></div>
                          <div class="col-md-4"><a (click)="onTypeEditClick()" class="textoker smalltext text-uppercase"><i class="glyphicon glyphicon-edit"></i> Edit </a></div>
                          <div class="col-md-4"><a data-target="#removeType" data-toggle="modal" (click)="onTypeDeleteClick()" class="textoker smalltext text-uppercase"><i class="glyphicon glyphicon-erase"></i> Delete </a></div>
                        </div>

                        <div *ngIf="messagetypes  !== null" class="col-md-12" style="margin-top:20px;">

                          <div class="row">

                            <div class="row mediumtext panel panel-heading col-md-12" style="height:50px;">
                              Type Id: <span class="text-info"> {{ typeInView.messageTypeId }}</span>
                            </div>

                            <div class="row mediumtext panel panel-heading col-md-12" style="height:50px;">
                              Type:<span class="text-info"> {{ typeInView.messageType }}</span>
                            </div>


                          </div>
                        </div>
                      </div>


                      <div *ngIf="isTypeAddOn || isTypeEditOn" class="row col-md-12">

                        <form novalidate [formGroup]="typesForm" (submit)="onSubmitTypeAddUpdate()">

                          <div class="col-md-6 col-md-offset-3">
                            <div class="form-group smalltextbold col-md-12" style="height:70px;">
                              Type:                                       
                              <input type="text" formControlName="typedescription" id="typedescription" name="typedescription" required class="form-control smalltext" style="background-color:moccasin" />                                                          
                              <control-messages [control]="typesForm.controls.typedescription"></control-messages>
                            </div>
                          </div>


                          <div class="col-md-6 col-md-offset-3 panel panel-heading" style="height:70px;margin-top:10px;">
                            <div class="col-md-6">
                              <button id="typecancel" class="btn btn-warning text-uppercase smalltext" style="width:auto; height:30px;" (click)="onTypeAddEditCancel()">
                                <span class="glyphicon glyphicon-trash" aria-hidden="true"></span> Cancel
                              </button>
                            </div>

                            <div class="col-md-6" style="text-align:left;">
                              <button id="typesave" class="btn btn-success text-uppercase smalltext" type="submit" [disabled]="!typesForm.valid" style="width:auto; height:30px;">
                                <span class="glyphicon glyphicon-floppy-save" aria-hidden="true"></span>
                                Save
                              </button>
                            </div>
                          </div>


                        </form>

                      </div>


              </div>


    </div>

  </div>

  </div>

  <my-spinner [isRunning]="isRequesting"></my-spinner>


  <!--      /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////  -->
  <!-- Message Remove-->
  <div class="modal fade" id="removeMessage" tabindex="-1" role="dialog" aria-labelledby="RemoveMessage" style="z-index:1800;">
    <div class="modal-dialog" role="document">
      <div class="modal-content">

        <div class="modal-header">
          <a href="#" class="close" data-dismiss="modal">&times;</a>
          <h4 class="text-warning"><span><i class="glyphicon glyphicon-exclamation-sign"></i></span>&nbsp;Remove Warning!</h4>
        </div>

        <div class="modal-body text-warning">
          <p>Are you sure you want to delete this message?</p>
        </div>

        <div class="modal-footer">
          <button class="btn btn-danger" data-dismiss="modal">No</button>
          <button class="btn btn-success" (click)="onSubmitDeleteMessage(messageToRemove)" data-dismiss="modal">Yes</button>
        </div>
      </div>
    </div>
  </div>


  <!--      /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////  -->
  <!-- Message Type Remove-->
  <div class="modal fade" id="removeType" tabindex="-1" role="dialog" aria-labelledby="RemoveType" style="z-index:1801;">
    <div class="modal-dialog" role="document">
      <div class="modal-content">

        <div class="modal-header">
          <a href="#" class="close" data-dismiss="modal">&times;</a>
          <h4 class="text-warning"><span><i class="glyphicon glyphicon-exclamation-sign"></i></span>&nbsp;Remove Warning!</h4>
        </div>

        <div class="modal-body text-warning">
          <p>Are you sure you want to delete this type?</p>
        </div>

        <div class="modal-footer">
          <button class="btn btn-danger" data-dismiss="modal">No</button>
          <button class="btn btn-success" (click)="onSubmitDeleteType(typeToRemove)" data-dismiss="modal">Yes</button>
        </div>
      </div>
    </div>
  </div>

